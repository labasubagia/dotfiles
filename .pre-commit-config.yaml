---
repos:
  - repo: https://github.com/nix-community/nixpkgs-fmt
    rev: v1.3.0
    hooks:
      - id: nixpkgs-fmt
  - repo: https://github.com/gitleaks/gitleaks
    rev: v8.16.1
    hooks:
      - id: gitleaks
  - repo: local
    hooks:
      - id: ansible-lint
        name: ansible-lint
        entry: bash -c 'git diff --cached --name-only | rg "^extras\/ansible\/.+\.ya?ml$" | xargs ansible-lint'
        language: system
        files: ^extras\/ansible\/.+\.ya?ml$
